<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Dog Breed Companion</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark dog-navbar">
    <div class="container">
        <a class="navbar-brand" href="#">
            <i class="fas fa-paw mr-2"></i>
            Canine Care
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link btn btn-nav" href="#">
                        <i class="fas fa-home mr-2"></i>
                        Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn btn-nav" href="#services">
                        <i class="fas fa-cog mr-2"></i>
                        Services
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn btn-nav" href="#developers">
                        <i class="fas fa-info-circle mr-2"></i>
                        About
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn btn-contact" href="#developers">
                        <i class="fas fa-envelope mr-2"></i>
                        Contact
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

    <header class="jumbotron  text-white">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h1 class="display-4">Discover Your Buddy</h1>
                    <p class="lead">One stop AI-powered solution for Dog Breed Classification, Disease Prediction and Recommendation System</p>
                    <a href="#services" class="btn btn-light">Get Started</a>
                </div>
                <div class="col-md-6">
                    <img src="{{ url_for('static', filename='images/Designer (1).png') }}" alt="Hero Image" class="img-fluid">
                </div>
            </div>
        </div>
    </header>

    <section class="services py-5" id="services">
        <div class="container">
            <h2 class="text-center mb-4">Our Services</h2>
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <img src="{{ url_for('static', filename='images/class1.png') }}" alt="Dog Breed Classification Icon" class="card-img-top"> <!-- Icon for Dog Breed Classification -->
                        <div class="card-body">
                            <h3 class="card-title">Dog Breed Classification</h3>
                            <p class="card-text">Upload a photo of your dog, and our AI will determine its breed.</p>
                            <!-- Inside the card for Dog Breed Classification -->
                            <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#breedClassifierModal">Classify Breed</a>

                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <img src="{{ url_for('static', filename='images/recomm1.png') }}" alt="Dog Breed Recommendation Icon" class="card-img-top"> <!-- Icon for Dog Breed Recommendation -->
                        <div class="card-body">
                            <h3 class="card-title">Dog Breed Recommendation</h3>
                            <p class="card-text">Answer a few questions, and we'll recommend the best dog breed for you.</p>
                            <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#breedRecommendationModal">Get Recommendation</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <img src="{{ url_for('static', filename='images/doc1.png') }}" alt="Disease Prediction Icon" class="card-img-top"> <!-- Icon for Disease Prediction -->
                        <div class="card-body">
                            <h3 class="card-title">Disease Prediction</h3>
                            <p class="card-text">Provide your dog's symptoms, and our AI will predict potential diseases.</p>
                            <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#diseasePredictionModal">Predict Disease</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    

        <footer class="bg-dark text-white py-3">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div id="developers">
                        <h4>ML Model Development Team</h4>
                        <p>Developed by:</p>
                        <ul class="list-unstyled">
                            <li>Sreesha</li>
                            <li>Yashwanth</li>
                            <li>Veeresh</li>
                            <li>Saniya</li>
                        </ul>
                        <p class="department-batch">Branch : <span>Department of Computer Science and Engineering</span> <br>Class of 2024</p>
                        <p class="guide-name">Guided by: <span>BRUNDA S ( Assistant Professor CSE )</span></p>
                        <p class="college-name">In affiliation with: <span>JSS Science And Technology University , Mysore</span></p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="footer-links">
                        <h4>Quick Links</h4>
                        <ul class="list-unstyled">
                            <li><a href="#">Home</a></li>
                            <li><a href="#services">Services</a></li>
                            <li><a href="#developers">About</a></li>
                            <li><a href="#developers">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2024 Dog Breed Companion. All rights reserved.</p>
            </div>
        </div>
    </footer>
    

    <!-- Breed Classification Modal -->
    <div class="modal fade" id="breedClassifierModal" tabindex="-1" aria-labelledby="breedClassifierModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="breedClassifierModalLabel">Dog Breed Classification</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="breedClassifyForm" method="post" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="dogImageUpload">Upload your dog's image (JPG only)</label>
                            <input type="file" class="form-control-file" id="dogImageUpload" name="file" accept=".jpg">
                        </div>
                        <button type="submit" class="btn btn-primary">Classify Now</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <div id="classificationResult" class="w-100">
                        <strong>The breed is:</strong> <span id="breedOutput">Awaiting selection...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>


      <!-- Breed Recommendation Modal -->
      <div class="modal fade" id="breedRecommendationModal" tabindex="-1" aria-labelledby="breedRecommendationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="breedRecommendationModalLabel">Find Your Perfect Canine Companion in Just 18 Questions!</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <form id="breedRecommendationForm" name="dog">
                    <!-- Question 1 -->
                    <div class="form-group">
                        <label for="height_c">1. Preferred height (inches):</label>
                        <input type="range" class="form-control-range"  min="7" max="32" step="1" value="7" oninput="updateValue('height_c', 'height_value', ' inches')" name="height_c" id="height_c">
                        <small id="height_value" class="form-text text-muted">7 inches</small>
                        <small class="form-text text-muted">
                            Range: 7 inches (Very small) to 32 inches (Very large)
                        </small>
                    </div>
                    <!-- Question 2: Weight -->
                    <div class="form-group">
                        <label for="weight_c">2. Preferred weight (pounds):</label>
                        <input type="range" class="form-control-range" id="weight_c" min="5" max="195" step="1" value="5" oninput="updateValue('weight_c', 'weight_value', ' pounds')">
                        <small id="weight_value" class="form-text text-muted">5 pounds</small>
                        <small class="form-text text-muted">
                            Range: 5 pounds (Very light) to 195 pounds (Very heavy)
                        </small>
                    </div>
                    <!-- Question 3: Life Expectancy -->
                    <div class="form-group">
                        <label for="life_c">3. Expected life span (years):</label>
                        <input type="range" class="form-control-range" id="life_c" min="2" max="18" step="1" value="2" oninput="updateValue('life_c', 'life_value', ' years')">
                        <small id="life_value" class="form-text text-muted">2 years</small>
                        <small class="form-text text-muted">
                            Range: 2 years (Short-lived) to 18 years (Long-lived)
                        </small>
                    </div>
                    <!-- Question 4: Coat Length -->
                    <div class="form-group">
                        <label for="coat_length_c">4. Preferred coat length:</label>
                        <input type="range" class="form-control-range" id="coat_length_c" min="1" max="3" step="1" value="1" oninput="updateValue('coat_length_c', 'coat_length_value', '')">
                        <small id="coat_length_value" class="form-text text-muted">1 (Short)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Short) to 3 (Long)
                        </small>
                    </div>

                    <!-- Question 5: Affectionate With Family -->
                    <div class="form-group">
                        <label for="affection_c">5. Affection level with family:</label>
                        <input type="range" class="form-control-range" id="affection_c" min="1" max="5" step="1" value="1" oninput="updateValue('affection_c', 'affection_value', '')">
                        <small id="affection_value" class="form-text text-muted">1 (Independent)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Independent) to 5 (Very affectionate)
                        </small>
                    </div>

                    <!-- Question 6: Good With Young Children -->
                    <div class="form-group">
                        <label for="good_with_kids_c">6. Compatibility with young children:</label>
                        <input type="range" class="form-control-range" id="good_with_kids_c" min="1" max="5" step="1" value="1" oninput="updateValue('good_with_kids_c', 'good_with_kids_value', '')">
                        <small id="good_with_kids_value" class="form-text text-muted">1 (Not recommended)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Not recommended) to 5 (Excellent with children)
                        </small>
                    </div>

                    <!-- Question 7: Good With Other Dogs -->
                    <div class="form-group">
                        <label for="good_with_dogs_c">7. Friendliness towards other dogs:</label>
                        <input type="range" class="form-control-range" id="good_with_dogs_c" min="1" max="5" step="1" value="1" oninput="updateValue('good_with_dogs_c', 'good_with_dogs_value', '')">
                        <small id="good_with_dogs_value" class="form-text text-muted">1 (Prefers solitude)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Prefers solitude) to 5 (Enjoys company)
                        </small>
                    </div>

                    <!-- Question 8: Shedding Level -->
                    <div class="form-group">
                        <label for="shedding_c">8. Shedding level:</label>
                        <input type="range" class="form-control-range" id="shedding_c" min="1" max="5" step="1" value="1" oninput="updateValue('shedding_c', 'shedding_value', '')">
                        <small id="shedding_value" class="form-text text-muted">1 (No shedding)</small>
                        <small class="form-text text-muted">
                            Range: 1 (No shedding) to 5 (High shedding)
                        </small>
                        
                    </div>

                    <!-- Question 9: Coat Grooming Frequency -->
                    <div class="form-group">
                        <label for="grooming_c">9. Grooming frequency needed:</label>
                        <input type="range" class="form-control-range" id="grooming_c" min="1" max="5" step="1" value="1" oninput="updateValue('grooming_c', 'grooming_value', '')">
                        <small id="grooming_value" class="form-text text-muted">1 (Monthly)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Monthly) to 5 (Daily)
                        </small>
                    </div>

                    <!-- Question 10: Drooling Level -->
                    <div class="form-group">
                        <label for="drooling_c">10. Drooling level:</label>
                        <input type="range" class="form-control-range" id="drooling_c" min="1" max="5" step="1" value="1" oninput="updateValue('drooling_c', 'drooling_value', '')">
                        <small id="drooling_value" class="form-text text-muted">1 (No drooling)</small>
                        <small class="form-text text-muted">
                            Range: 1 (No drooling) to 5 (Needs a towel)
                        </small>
                    </div>

                    <!-- Question 11: Openness To Strangers -->
                    <div class="form-group">
                        <label for="openness_c">11. Openness to strangers:</label>
                        <input type="range" class="form-control-range" id="openness_c" min="1" max="5" step="1" value="1" oninput="updateValue('openness_c', 'openness_value', '')">
                        <small id="openness_value" class="form-text text-muted">1 (Very reserved)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Very reserved) to 5 (Very welcoming)
                        </small>
                    </div>

                    <!-- Question 12: Playfulness Level -->
                    <div class="form-group">
                        <label for="playfulness_c">12. Playfulness level:</label>
                        <input type="range" class="form-control-range" id="playfulness_c" min="1" max="5" step="1" value="1" oninput="updateValue('playfulness_c', 'playfulness_value', '')">
                        <small id="playfulness_value" class="form-text text-muted">1 (Rarely playful)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Rarely playful) to 5 (Always playful)
                        </small>
                    </div>

                    <!-- Question 13: Watchdog/Protective Nature -->
                    <div class="form-group">
                        <label for="watchdog_c">13. Watchdog/protective nature:</label>
                        <input type="range" class="form-control-range" id="watchdog_c" min="1" max="5" step="1" value="1" oninput="updateValue('watchdog_c', 'watchdog_value', '')">
                        <small id="watchdog_value" class="form-text text-muted">1 (Not protective)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Not protective) to 5 (Highly protective)
                        </small>
                    </div>

                    <!-- Question 14: Adaptability Level -->
                    <div class="form-group">
                        <label for="adaptability_c">14. Adaptability level:</label>
                        <input type="range" class="form-control-range" id="adaptability_c" min="1" max="5" step="1" value="1" oninput="updateValue('adaptability_c', 'adaptability_value', '')">
                        <small id="adaptability_value" class="form-text text-muted">1 (Needs consistent routine)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Needs consistent routine) to 5 (Highly adaptable)
                        </small>
                    </div>

                    <!-- Question 15: Trainability Level -->
                    <div class="form-group">
                        <label for="trainability_c">15. Trainability level:</label>
                        <input type="range" class="form-control-range" id="trainability_c" min="1" max="5" step="1" value="1" oninput="updateValue('trainability_c', 'trainability_value', '')">
                        <small id="trainability_value" class="form-text text-muted">1 (Difficult to train)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Difficult to train) to 5 (Easily trainable)
                        </small>
                    </div>

                    <!-- Question 16: Energy Level -->
                    <div class="form-group">
                        <label for="energy_c">16. Energy level:</label>
                        <input type="range" class="form-control-range" id="energy_c" min="1" max="5" step="1" value="1" oninput="updateValue('energy_c', 'energy_value', '')">
                        <small id="energy_value" class="form-text text-muted">1 (Very calm)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Very calm) to 5 (High energy)
                        </small>
                    </div>

                    <!-- Question 17: Barking Level -->
                    <div class="form-group">
                        <label for="barking_c">17. Barking tendency:</label>
                        <input type="range" class="form-control-range" id="barking_c" min="1" max="5" step="1" value="1" oninput="updateValue('barking_c', 'barking_value', '')">
                        <small id="barking_value" class="form-text text-muted">1 (Rarely barks)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Rarely barks) to 5 (Frequent barker)
                        </small>
                    </div>

                    <!-- Question 18: Mental Stimulation Needs -->
                    <div class="form-group">
                        <label for="mental_stimulation_c">18. Mental stimulation needs:</label>
                        <input type="range" class="form-control-range" id="mental_stimulation_c" min="1" max="5" step="1" value="1" oninput="updateValue('mental_stimulation_c', 'mental_stimulation_value', '')">
                        <small id="mental_stimulation_value" class="form-text text-muted">1 (Little need for busy tasks)</small>
                        <small class="form-text text-muted">
                            Range: 1 (Low need) to 5 (High need for mental engagement)
                        </small>
                    </div>
                <!-- Repeat for each attribute, adjusting the min, max, and step values -->
                <!-- Breed Recommendation Modal (continued) -->
                <button type="button" class="btn btn-primary" onclick="recommendBreed()">Recommend Now</button>

                </form>
                <div id="recommendationResult" class="w-100">
                    {% if names %}
                    <h2>We recommend:</h2>
                    <ul>
                        {% for name, distance in zip(names, distances) %}
                        <li>{{ name }} - Similarity: {{ distance | round(2) }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
                </div>
          </div>
        </div>
      </div>
    

<!-- Disease Prediction Modal -->
<div class="modal fade" id="diseasePredictionModal" tabindex="-1" aria-labelledby="diseasePredictionModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="diseasePredictionModalLabel">Disease Prediction</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="diseasePredictionForm">
          <div class="form-row" id="symptomCheckboxes">
            {% for symptom in symptoms %}
              <div class="form-group col-md-3">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="symptom{{ loop.index0 }}" name="symptoms[]">
                  <label class="custom-control-label" for="symptom{{ loop.index0 }}">{{ symptom }}</label>
                </div>
              </div>
              {% if loop.index % 10 == 0 and not loop.last %}
                </div><div class="form-row">
              {% endif %}
            {% endfor %}
          </div>
            <div class="text-center mt-4">
            <button type="button" class="btn btn-primary" onclick="predictDisease()">Predict Now</button>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div id="predictionResult" class="w-100">
          <strong>Potential diseases:</strong> <span id="diseaseOutput">N/A</span>
        </div>
      </div>
    </div>
  </div>
</div>


      
      <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('breedClassifyForm');
            const output = document.getElementById('breedOutput'); // This will display the breed name

            form.addEventListener('submit', function(event) {
                event.preventDefault();
                const fileInput = document.getElementById('dogImageUpload');

                if (fileInput.files.length > 0) {
                    const formData = new FormData();
                    formData.append('file', fileInput.files[0]);
                    fetch('/predict_breed_route', {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => response.json())
                    .then(data => {
                        output.textContent = " " + data.predicted_breed; // Updating the content dynamically
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        output.textContent = 'Error occurred during prediction';
                    });
                } else {
                    alert("Please provide an image file.");
                    output.textContent = "N/A";
                }
            });
        });

      </script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('dogImageUpload');
            const output = document.getElementById('breedOutput');
            const form = document.getElementById('breedClassifyForm');

            form.addEventListener('submit', function(event) {
                event.preventDefault();
                if (fileInput.files.length > 0) {
                    // Send the file to the server for prediction
                    const formData = new FormData();
                    formData.append('file', fileInput.files[0]);
                    fetch('/predict_breed_route', { // Corrected endpoint
                        method: 'POST',
                        body: formData
                    })
                    .then(response => response.json())
                    .then(data => {
                        output.textContent = " " + data.predicted_breed;
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        output.textContent = 'Error occurred during prediction';
                    });
                } else {
                    alert("Please provide an image file.");
                    output.textContent = "N/A";
                }
            });
        });
        </script>
            <script>
            function updateValue(sliderId, valueId, inputId, unit) {
                const slider = document.getElementById(sliderId);
                const output = document.getElementById(valueId);
                const input = document.getElementById(inputId);

                if (output && input) {
                    output.textContent = slider.value + unit;
                    input.value = slider.value;

                    slider.oninput = () => {
                        updateValue(sliderId, valueId, inputId, unit);
                    };
                } else {
                    console.error(`Elements with IDs ${valueId} and/or ${inputId} not found.`);
                }
            }

                function recommendBreed() {
                    const form = document.getElementById("breedRecommendationForm");
                    const forms = {}
                   for(let i=0;i<18;i++){
                    console.log("Index",form[i].value);
                    forms[form[i].id]=form[i].value
                    }
                    console.log("Dictionary", forms);
                    const jsonForms = JSON.stringify(forms)
                    fetch('/recommend_breed', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: jsonForms
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log("Data",forms); // Add this line to check the server response

                        const recommendationResult = document.getElementById('recommendationResult');
                        recommendationResult.innerHTML = ''; // Clear previous results

                        if (data.length > 0) {
                            const resultsHtml = data.map(item => `${item.name} - Similarity: ${Math.round(item.similarity * 100)}%`).join('<br>');
                            recommendationResult.innerHTML = '<strong>We recommend:</strong><br>' + resultsHtml;
                        } else {
                            recommendationResult.innerHTML = 'No recommendations available.';
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        const recommendationResult = document.getElementById('recommendationResult');
                        recommendationResult.innerHTML = 'Failed to retrieve data.';
                    });
                }
            </script>
            <script>
            function updateValue(sliderId, valueId, unit) {
                const slider = document.getElementById(sliderId);
                const output = document.getElementById(valueId);

                output.textContent = slider.min + unit;

                slider.oninput = function() {
                    output.textContent = this.value + unit;
                };
            }

            // Call the updateValue function for each range input
            updateValue('height_c', 'height_value', ' inches');
            updateValue('weight_c', 'weight_value', ' pounds');
            updateValue('life_c', 'life_value', ' years');
            updateValue('coat_length_c', 'coat_length_value', '');
            updateValue('affection_c', 'affection_value', '');
            updateValue('good_with_kids_c', 'good_with_kids_value', '');
            updateValue('good_with_dogs_c', 'good_with_dogs_value', '');
            updateValue('shedding_c', 'shedding_value', '');
            updateValue('grooming_c', 'grooming_value', '');
            updateValue('drooling_c', 'drooling_value', '');
            updateValue('openness_c', 'openness_value', '');
            updateValue('playfulness_c', 'playfulness_value', '');
            updateValue('watchdog_c', 'watchdog_value', '');
            updateValue('adaptability_c', 'adaptability_value', '');
            updateValue('trainability_c', 'trainability_value', '');
            updateValue('energy_c', 'energy_value', '');
            updateValue('barking_c', 'barking_value', '');
            updateValue('mental_stimulation_c', 'mental_stimulation_value', '');
            </script>
            <script>
                const symptoms = [
    'Fever', 'Nasal Discharge', 'Loss of appetite', 'Weight Loss',
    'Lameness', 'Breathing Difficulty', 'Swollen Lymph nodes', 'Lethargy',
    'Depression', 'Coughing', 'Diarrhea', 'Seizures', 'Vomiting',
    'Eating less than usual', 'Excessive Salivation',
    'Redness around Eye area', 'Severe Dehydration', 'Pain', 'Discomfort',
    'Sepsis', 'WeightLoss', 'Tender abdomen',
    'Increased drinking and urination', 'Bloated Stomach', 'Yellow gums',
    'Constipation', 'Paralysis', 'Wrinkled forehead',
    'Continuously erect and stiff ears', 'Grinning appearance',
    'Stiff and hard tail', 'Stiffness of muscles', 'Acute blindness',
    'Blood in urine', 'Hunger', 'Cataracts', 'Losing sight',
    'Glucose in urine', 'Burping', 'blood in stools', 'Passing gases',
    'Eating grass', 'Scratching', 'Licking', 'Itchy skin',
    'Redness of skin', 'Face rubbing', 'Loss of Fur', 'Swelling of gum',
    'Redness of gum', 'Receding gum', 'Bleeding of gum', 'Plaque',
    'Bad breath', 'Tartar', 'Lumps', 'Swelling', 'Red bumps', 'Scabs',
    'Irritation', 'Dry Skin', 'Fur loss', 'Red patches',
    'Heart Complication', 'Weakness', 'Aggression', 'Pale gums', 'Coma',
    'Collapse', 'Abdominal pain', 'Difficulty Urinating', 'Dandruff',
    'Anorexia', 'Blindness', 'excess jaw tone', 'Urine infection',
    'Lack of energy', 'Smelly', 'Neurological Disorders', 'Eye Discharge',
    'Loss of Consciousness', 'Enlarged Liver', 'lethargy', 'Purging',
    'Bloody discharge', 'Wounds'
];
document.addEventListener('DOMContentLoaded', function() {
    const checkboxContainer = document.getElementById('symptomCheckboxes');
    symptoms.forEach((symptom, index) => {
        let div = document.createElement('div');
        div.className = 'custom-control custom-checkbox';

        let input = document.createElement('input');
        input.type = 'checkbox';
        input.className = 'custom-control-input';
        input.id = 'symptom' + index;
        input.name = 'symptoms[]';  // Useful if you want to send data as form-data instead of JSON

        let label = document.createElement('label');
        label.className = 'custom-control-label';
        label.htmlFor = 'symptom' + index;
        label.textContent = symptom;

        div.appendChild(input);
        div.appendChild(label);

        checkboxContainer.appendChild(div);
    });
});

function predictDisease() {
    var symptoms = [];
    var checkboxes = document.querySelectorAll('#diseasePredictionForm input[type="checkbox"]');
    checkboxes.forEach((checkbox, index) => {
        symptoms[index] = checkbox.checked ? 1 : 0;
    });

    fetch('/predict_disease', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({symptoms: symptoms})
    })
    .then(response => response.json())
    .then(data => {
        document.getElementById('diseaseOutput').textContent = ' ' + data.disease;
    })
    .catch(error => {
        console.error('Error:', error);
        document.getElementById('diseaseOutput').textContent = 'Error predicting disease';
    });
}

            </script>


        
        
      
      
      <!-- jQuery and Bootstrap JS (already included in your file, just ensuring it's after the modal) -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
  </html>
  
